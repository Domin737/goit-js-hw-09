{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEA,SAASC,EAAcC,EAAUC,GAI/B,GAHAD,EAAWE,OAAOF,GAClBC,EAAQC,OAAOD,GAEXE,MAAMH,IAAaG,MAAMF,GAC3B,MAAM,IAAIG,MAAM,6BAGlB,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAgBC,KAAKC,SAAW,GACtCC,YAAW,WACLH,EACFF,EAAQ,CAAEN,WAAUC,UAEpBM,EAAO,CAAEP,WAAUC,S,GAEpBA,E,IA8CPW,SAASC,cAAc,SAASC,iBAAiB,UA1CjD,SAA0BC,GACxBA,EAAMC,iBAEN,IACMC,EADOF,EAAMG,OACGD,SAEtB,IACE,IAAME,EAAajB,OAAOe,EAASG,UAAU,SAASC,OAChDC,EAAYpB,OAAOe,EAASG,UAAU,QAAQC,OAC9CE,EAASrB,OAAOe,EAASG,UAAU,UAAUC,OAEnD,GAAIlB,MAAMgB,IAAehB,MAAMmB,IAAcnB,MAAMoB,GACjD,MAAM,IAAInB,MAAM,wBAIlB,IADA,IAAMoB,EAAW,GACRC,EAAI,EAAGA,GAAKF,EAAQE,IAAK,CAChC,IAAMC,EAAeP,EAAaG,GAAaG,EAAI,GACnDD,EAASG,KAAK5B,EAAc0B,EAAGC,G,CAGjCrB,QAAQuB,IAAIJ,GAAUK,MACpB,SAAAC,GACEA,EAAQC,SAAQ,SAAAC,G,IAAGhC,EAAQgC,EAARhC,SAAUC,EAAK+B,EAAL/B,MAC3BgC,EAAApC,GAASqC,OAAOC,QACd,uBAAwCC,OAAfpC,EAAS,QAAYoC,OAANnC,EAAM,M,OAIpD,SAAAoC,GACEA,EAAON,SAAQ,SAAAC,G,IAAGhC,EAAQgC,EAARhC,SAAUC,EAAK+B,EAAL/B,MAC1BgC,EAAApC,GAASqC,OAAOI,QACd,sBAAqCF,OAAfpC,EAAS,QAAYoC,OAANnC,EAAM,M,OAKnD,MAAOsC,GACPN,EAAApC,GAASqC,OAAOI,QAAQC,EAAMC,Q","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nfunction createPromise(position, delay) {\n  position = Number(position);\n  delay = Number(delay);\n\n  if (isNaN(position) || isNaN(delay)) {\n    throw new Error('Invalid position or delay');\n  }\n\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n}\n\nfunction handleFormSubmit(event) {\n  event.preventDefault();\n\n  const form = event.target;\n  const elements = form.elements;\n\n  try {\n    const firstDelay = Number(elements.namedItem('delay').value);\n    const delayStep = Number(elements.namedItem('step').value);\n    const amount = Number(elements.namedItem('amount').value);\n\n    if (isNaN(firstDelay) || isNaN(delayStep) || isNaN(amount)) {\n      throw new Error('Invalid input values');\n    }\n\n    const promises = [];\n    for (let i = 1; i <= amount; i++) {\n      const currentDelay = firstDelay + delayStep * (i - 1);\n      promises.push(createPromise(i, currentDelay));\n    }\n\n    Promise.all(promises).then(\n      results => {\n        results.forEach(({ position, delay }) => {\n          Notiflix.Notify.success(\n            `✅ Fulfilled promise ${position} in ${delay}ms`\n          );\n        });\n      },\n      errors => {\n        errors.forEach(({ position, delay }) => {\n          Notiflix.Notify.failure(\n            `❌ Rejected promise ${position} in ${delay}ms`\n          );\n        });\n      }\n    );\n  } catch (error) {\n    Notiflix.Notify.failure(error.message);\n  }\n}\n\ndocument.querySelector('.form').addEventListener('submit', handleFormSubmit);\n"],"names":["$ejkSG","parcelRequire","$ce04d3a99e08e73b$var$createPromise","position","delay","Number","isNaN","Error","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","document","querySelector","addEventListener","event","preventDefault","elements","target","firstDelay","namedItem","value","delayStep","amount","promises","i","currentDelay","push","all","then","results","forEach","param","$parcel$interopDefault","Notify","success","concat","errors","failure","error","message"],"version":3,"file":"03-promises.70afa17f.js.map"}